<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" ng-app="abTestingApp"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>A/B Testing</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="/app.css">

  <script src="bower_components/angular/angular.js"></script>
  <script src="app.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>
<body>
  <!--[if lt IE 7]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
  <![endif]-->
  <!-- In production use:
  <script src="//ajax.googleapis.com/ajax/libs/angularjs/x.x.x/angular.min.js"></script>
  -->
  <div class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header" id="header">
        <h2>A/B Testing</h2>
      </div>
    </div>
  </div>

  <br><br>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-sm-12">
        <div ng-controller="FormAndDisplayController">

          <h3>Tasks</h3>
          <br>
          <ul>
            <li ng-repeat="(key, value) in tasks; " class="list-group-item">
                {{$index+1}}. {{key}} <span style="float:right;cursor: pointer;" ng-click="edit(key)">Edit</span>
            </li>
          </ul>
          <br />
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#createAndEdit" aria-expanded="false" aria-controls="createAndEdit">Add</button>

          <div class="collapse" id="createAndEdit">
          <hr>
          <h3>Create / Edit</h3>
          <form class="form-group" name="addTaskForm">
             <div class="">

          		<label>Name: </label><input type="text" class="form-control" ng-model="task.name" autofocus required />
              <br>
              <label>Sample: </label><input type="number" class="form-control" ng-model="task.sample" required min="0" max="1" step="0.01"/>
              <br>
              <label>Platform:</label>
              <fieldset>
                <label class="platform"><input class="innerPlatform" type="checkbox" ng-model="task.web" value="web" ng-required="!(task.web || task.mobile)">web</label>
                <label class="platform"><input class="innerPlatform" type="checkbox" ng-model="task.mobile" value="mobile" ng-required="!(task.web || task.mobile)">mobile</label>
              </fieldset>

            			<button type="submit" class="btn btn-primary" ng-disabled="addTaskForm.$invalid" ng-click="onSubmit()">
            					<i class="fa fa-plus"></i>&nbsp;Save
            			</button>


             </div>
          </form>
          <!-- testing -->
          <pre>current task = {{task | json}}</pre>
          <pre>list = {{tasks | json}}</pre>

        </div>

        </div>

      </div>
    </div>
  </div>

</body>
</html>
